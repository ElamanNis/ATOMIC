 Автономный программно-аппаратный комплекс "QORGAU" (v5.0)

Этот проект — результат разработки системы защиты скважин в условиях агрессивных сред и отсутствия сетевой инфраструктуры. Основная цель: мгновенная локализация утечек (кислота/нефть) и передача телеметрии на пульт диспетчера через LoRa-канал.

Аппаратная часть (Hardware)

| Микроконтроллер     | ESP32-WROOM-32                           | Обработка данных, прерывания и логика |

| Радиомодуль         | Ebyte LoRa E32 (433MHz)                  | Передача данных на 5-10 км (радиоканал) |

| Датчик протечки     | XKC-Y25-V (бесконтактный)                | Детекция жидкости через стенку трубы (NPN выход) |

| Датчик давления     | Датчик с выходом 0-5V (через делитель)   | Мониторинг давления в магистрали |

| Датчик потока       | YF-S201 (Холла)                          | Учет расхода жидкости  |

| Исполнительный узел | Соленоидный клапан (12V) + Реле          | Аварийное перекрытие потока |

| Питание             | Li-ion 18650 + Солнечная панель          | Полная энергонезависимость |

#Программная логика (Firmware)

Код написан на C++ (Arduino IDE) с использованием объектно-ориентированного подхода. Основные фишки:

1. Мгновенный отклик (Interrupts): Датчик протечки подключен к GPIO33. На него назначено прерывание `RISING`. Как только датчик видит жидкость, контроллер бросает все задачи и первым делом подает сигнал на закрытие клапана. Это гарантирует безопасность даже при программных "фризах".
2. Фильтрация сигнала: Для датчика давления реализован алгоритм усреднения (Moving Average). Мы берем 50 выборок за цикл, чтобы отсечь случайные помехи от работы насосного оборудования.
3. JSON Протокол: Данные передаются не просто текстом, а структурированным JSON-пакетом через библиотеку `ArduinoJson`. Это позволяет легко масштабировать систему — на шлюз можно принимать данные от сотен таких узлов.

 Диспетчерское ПО (Web-Dashboard)

Интерфейс спроектирован для оперативного контроля. Весь фронтенд собран на HTML/JS без тяжелых фреймворков для максимального быстродействия.

Chart.js: Отрисовка графиков давления и потока в реальном времени.
Логирование: Все алармы записываются в локальное хранилище браузера (LocalStorage), чтобы история не пропадала при перезагрузке страницы.
Управление: Реализован обратный канал связи. Оператор может отправить команду `CLOSE_VALVE` по LoRa, и скважина будет перекрыта принудительно.

 Инструкция по развертыванию

1. Железо: Соберание схему согласно PDF-файлу в папке `/Circuts`.
2. Прошивка:
* Установка в Arduino IDE поддержку ESP32.
* Добавление библиотек: `ArduinoJson`, `LoRa` (Sandeep Mistry).
* Прошивка контроллера файлом из `/Firmware`.
3. Мониторинг:
 Подключите LoRa-шлюз к компьютеру.
 Откройте `index.html` из папки `/Dashboard`. Система начнет принимать данные автоматически (при наличии активного порта).

 Экономика и ROI

Себестоимость: ~24 000 ₸.
Эффект: Предотвращение экологического ущерба и потерь сырья. Система окупается за 1 секунду реальной аварии, так как стоимость очистки почвы после разлива кислоты начинается от 5-10 млн ₸.


Разработано как готовое решение для автоматизации нефтегазового сектора.


